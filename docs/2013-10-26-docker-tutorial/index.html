<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="机器学习, 深度学习, 人工智能" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="前提条件：要安装好 docker，见我的另一篇博客，docker 安装
交互式命令行入门教程首先强烈建议玩一遍官方的一个交互式命令行入门教程，Interactive commandline tutorial。甚至要多玩几遍，加深印象。
初次过完这个教程，感觉docker用起来跟git很类似。
玩完了后，在自己的真实机器上，把上面的命令重新敲一遍，感受一下。
Hello World参考官方文档Hel">
<meta property="og:type" content="article">
<meta property="og:title" content="docker 快速入门">
<meta property="og:url" content="http://cn.soulmachine.me/2013-10-26-docker-tutorial/index.html">
<meta property="og:site_name" content="灵魂机器">
<meta property="og:description" content="前提条件：要安装好 docker，见我的另一篇博客，docker 安装
交互式命令行入门教程首先强烈建议玩一遍官方的一个交互式命令行入门教程，Interactive commandline tutorial。甚至要多玩几遍，加深印象。
初次过完这个教程，感觉docker用起来跟git很类似。
玩完了后，在自己的真实机器上，把上面的命令重新敲一遍，感受一下。
Hello World参考官方文档Hel">
<meta property="og:updated_time" content="2016-09-09T06:32:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="docker 快速入门">
<meta name="twitter:description" content="前提条件：要安装好 docker，见我的另一篇博客，docker 安装
交互式命令行入门教程首先强烈建议玩一遍官方的一个交互式命令行入门教程，Interactive commandline tutorial。甚至要多玩几遍，加深印象。
初次过完这个教程，感觉docker用起来跟git很类似。
玩完了后，在自己的真实机器上，把上面的命令重新敲一遍，感受一下。
Hello World参考官方文档Hel">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> docker 快速入门 | 灵魂机器 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?259b539fcd8cab18ad0a6deb98ac2046";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">灵魂机器</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">终有一天机器也有灵魂</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                docker 快速入门
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-10-26T23:41:00+00:00" content="2013-10-26">
              2013-10-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Docker/" itemprop="url" rel="index">
                    <span itemprop="name">Docker</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013-10-26-docker-tutorial/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013-10-26-docker-tutorial/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><strong>前提条件：</strong>要安装好 docker，见我的另一篇博客，<a href="http://www.yanjiuyanjiu.com/blog/20131025" target="_blank" rel="external">docker 安装</a></p>
<h2 id="交互式命令行入门教程"><a href="#交互式命令行入门教程" class="headerlink" title="交互式命令行入门教程"></a>交互式命令行入门教程</h2><p>首先强烈建议玩一遍官方的一个交互式命令行入门教程，<a href="http://www.docker.io/gettingstarted/" target="_blank" rel="external">Interactive commandline tutorial</a>。甚至要多玩几遍，加深印象。</p>
<p>初次过完这个教程，感觉docker用起来跟git很类似。</p>
<p>玩完了后，在自己的真实机器上，把上面的命令重新敲一遍，感受一下。</p>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><p>参考官方文档<a href="http://docs.docker.io/en/latest/examples/hello_world/#running-examples" target="_blank" rel="external">Hello World</a></p>
<p>首先下载官方的ubuntu image:</p>
<pre><code>sudo docker pull ubuntu
</code></pre><p>然后运行 hello world：</p>
<pre><code>sudo docker run ubuntu /bin/echo hello world
</code></pre><h2 id="三种运行命令的模式"><a href="#三种运行命令的模式" class="headerlink" title="三种运行命令的模式"></a>三种运行命令的模式</h2><p>docker 有三种运行命令的方式，短暂方式，交互方式，daemon方式。</p>
<p><strong>短暂方式</strong>，就是刚刚的那个”hello world”，命令执行完后，container就终止了，不过并没有消失，可以用 <code>sudo docker ps -a</code> 看一下所有的container，第一个就是刚刚执行过的container，可以再次执行一遍：</p>
<pre><code>sudo docker start container_id
</code></pre><p>不过这次看不到”hello world”了，只能看到ID，用<code>logs</code>命令才能看得到，</p>
<pre><code>sudo docker logs container_id
</code></pre><p>可以看到两个”hello world”，因为这个container运行了两次。</p>
<p><strong>交互方式</strong>，</p>
<pre><code>sudo docker run -i -t image_name /bin/bash
</code></pre><p><strong>daemon方式</strong>，即让软件作为长时间服务运行，这就是SAAS啊！</p>
<p>例如，一个无限循环打印的脚本（替换为memcached, apache等，操作方法仍然不变！）：</p>
<pre><code>CONTAINER_ID=$(sudo docker run -d ubuntu /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;)
</code></pre><p>在container外面查看它的输出</p>
<pre><code>sudo docker logs $CONTAINER_ID
</code></pre><p>或者连接上容器实时查看</p>
<pre><code>sudo docker attach $CONTAINER_ID
</code></pre><p>终止容器</p>
<pre><code>sudo docker stop $CONTAINER_ID
</code></pre><p><code>sudo docker ps</code>看一下，已经没了</p>
<h2 id="docker-ps-命令详解"><a href="#docker-ps-命令详解" class="headerlink" title="docker ps 命令详解"></a>docker ps 命令详解</h2><p><code>sudo docker ps</code>，列出当前所有正在运行的container</p>
<p><code>sudo docker ps -l</code>，列出最近一次启动的，且正在运行的container</p>
<p><code>sudo docker ps -a</code>，列出所有的container</p>
<p>其他用法请参考 <code>sudo docker ps -h</code></p>
<p>还有一种方式可以让程序在daemon模式下运行，就是在Dockerfile里设置USER为daemon，见<a href="http://www.docker.io/learn/dockerfile/level2/" target="_blank" rel="external">Dockerfile tutorial Level2</a>。</p>
<h2 id="添加http代理"><a href="#添加http代理" class="headerlink" title="添加http代理"></a>添加http代理</h2><p>在国内，pull或push的时候经常连不上docker.com（原因你懂的，或者在公司内部统一用一个代理上网的时候），可以在docker daemon进程启动的时候加个代理，例如</p>
<pre><code>sudo HTTP_PROXY=proxy_server:port docker -d &amp;
</code></pre><p>docker貌似是不识别<code>http_proxy</code>, <code>https_proxy</code>和<code>no_proxy</code>环境变量的，因此要在命令行里指定，参考 <a href="https://github.com/dotcloud/docker/issues/402" target="_blank" rel="external">Github Issue #402 Using Docker behind a firewall</a>。</p>
<p>如果在命令行里指定了<code>HTTP_PROXY</code>，则要unset掉<code>http_proxy</code>和<code>https_proxy</code>环境变量。原因是：</p>
<ul>
<li>首先， docker daemon进程是通过http协议与docker.com通信的</li>
<li>其次，docker的各种命令（例如 <code>run</code>, <code>login</code>等）也是通过http协议与docker daemon进程通信的（发送jasn字符串，daemon进程返回的也是json字符串），有时候docker客户端命令貌似能识别http_proxy变量，这时，客户端发送一个命令，路径是<code>localhost-&gt;http_proxy-&gt;daemon进程</code>，daemon进程返回的数据，路径是 <code>daemon进程-&gt;proxy-&gt;proxy-&gt;localhost</code>，其中，从<code>proxy-&gt;localhost</code>的路径是不通的，因为proxy连接不了内网IP。</li>
</ul>
<p>之所以把这一步放在本文开始，是因为这一步不做的话，后面很多命令会出错，让人摸不着头脑，我在这里就掉进坑了，花了很长时间才搞明白，原来是网络连接不稳定。</p>
<h2 id="熟悉一下-Dockerfile"><a href="#熟悉一下-Dockerfile" class="headerlink" title="熟悉一下 Dockerfile"></a>熟悉一下 Dockerfile</h2><p>完了几遍交互式入门教程后，你会好奇，怎么自己定制一个 image，例如把常用的软件装好后打包 ? 这时候该 Dockfile 登场了。Dockerfile 实质上是一个脚本文件，用于自动化创建image。</p>
<a id="more"></a>
<p>请跟着官方教程走一遍，<a href="http://www.docker.io/gettingstarted/" target="_blank" rel="external">Dockerfile Tutorial</a></p>
<p>到这里， 官网的 Getting started 的内容基本上消化完了，接下来就是翻官网的<a href="http://docs.docker.io/en/latest/" target="_blank" rel="external">Documentation</a>了。</p>
<h2 id="我的第一个Dockerfile"><a href="#我的第一个Dockerfile" class="headerlink" title="我的第一个Dockerfile"></a>我的第一个Dockerfile</h2><p>文件名为update.dockerfile，内容如下：</p>
<pre><code># use the ubuntu base image provided by dotCloud
FROM ubuntu

MAINTAINER Frank Dai soulmachine@gmail.com


# if you&apos;re behind a government firewall or company proxy
# ENV http_proxy http://proxy-prc.intel.com:911
# ENV https_proxy https://proxy-prc.intel.com:911
# RUN echo &quot;Acquire::http::proxy \&quot;proxy_server:port\&quot;;&quot; &gt;&gt; /etc/apt/apt.conf
# RUN echo &quot;Acquire::https::proxy \&quot;proxy_server:port\&quot;;&quot; &gt;&gt; /etc/apt/apt.conf


# choose a faster mirror, see http://t.cn/zWYrzCE
RUN echo &quot;deb mirror://mirrors.ubuntu.com/mirrors.txt precise main restricted universe multiverse&quot; &gt; /etc/apt/sources.list
RUN echo &quot;deb mirror://mirrors.ubuntu.com/mirrors.txt precise-updates main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list
RUN echo &quot;deb mirror://mirrors.ubuntu.com/mirrors.txt precise-backports main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list
RUN echo &quot;deb mirror://mirrors.ubuntu.com/mirrors.txt precise-security main restricted universe multiverse&quot; &gt;&gt; /etc/apt/sources.list

RUN apt-get update -y
# currently docker official ubuntu image has a problem with apt-get upgrade
# RUN apt-get upgrade -y &amp;&amp; apt-get dist-upgrade -y
RUN apt-get clean all


# install wget
RUN apt-get install -y  wget
RUN wget www.baidu.com
RUN rm index.html

#install vim editor
RUN apt-get install -y vim
</code></pre><p><strong>注意一个坑：</strong> <code>apt-get upgrade</code> 在当前官方的ubuntu image里是无法运行成功的，见 <a href="https://github.com/dotcloud/docker/issues/1724" target="_blank" rel="external">Issue #1724 apt-get upgrade in plain Ubuntu precise image fails</a>。所以，干脆放弃更新吧，能<code>apt-get install</code>软件就行了，不要有更新强迫症 :)</p>
<h2 id="删除容器"><a href="#删除容器" class="headerlink" title="删除容器"></a>删除容器</h2><p><strong>每一行命令都会产生一个新的容器</strong>（无论是在<code>sudo docker run -i -t ubuntu /bin/bash</code> 模式下，还是Dockerfile里的RUN命令），玩了一会儿后，<code>sudo docker ps -a</code> 会看到很多容器，很是干扰视线，可以用一行命令删除所有容器：</p>
<pre><code>sudo docker rm `sudo docker ps -a -q`
</code></pre><h2 id="创建image"><a href="#创建image" class="headerlink" title="创建image"></a>创建image</h2><p>有两种用方式，</p>
<ul>
<li>写一个Dockerfile，然后用<code>docker build</code>创建一个image</li>
<li>在容器里交互式地（例如<code>sudo docker run -i -t ubuntu /bin/bash</code>）进行一些列操作，然后<code>docker commit</code>固化成一个image。</li>
</ul>
<p>image相当于编程语言里的类，container相当于实例，不过可以动态给实例安装新软件，然后把这个container用commit命令固化成一个image。</p>
<p>使用前面写好的update.dockerfile，创建一个image：</p>
<pre><code>sudo docker build -t soulmachine/ubuntu:latest - &lt; update.dockerfile
</code></pre><h2 id="下载image"><a href="#下载image" class="headerlink" title="下载image"></a>下载image</h2><p><a href="https://index.docker.io/" target="_blank" rel="external">https://index.docker.io/</a> 是官方的image仓库，也可以用 <a href="https://github.com/dotcloud/docker-registry" target="_blank" rel="external">Docker-Registry</a>创建自己的仓库，这就好比git，<a href="https://index.docker.io/" target="_blank" rel="external">https://index.docker.io/</a>相当于Github，也可以自己DIY搭建一个git服务器，把自己的代码托管到私有的服务器上。</p>
<p><code>sudo docker pull ubuntu</code> 是从 <a href="https://index.docker.io/_/ubuntu/" target="_blank" rel="external">https://index.docker.io/_/ubuntu/</a> 下载名为 ubuntu 的repo，里面包含了几个tag，默认使用latest这个tag。这个repo是docker官方的。</p>
<h2 id="上传并共享image"><a href="#上传并共享image" class="headerlink" title="上传并共享image"></a>上传并共享image</h2><p>自己build了一个image，想要共享，怎么办？参考这篇文章，<a href="http://crohr.me/journal/2013/docker-repository-create-base-boxes.html" target="_blank" rel="external">How to build and publish base boxes for Docker?</a></p>
<h3 id="注册一个账号"><a href="#注册一个账号" class="headerlink" title="注册一个账号"></a>注册一个账号</h3><p>首先，要去 <a href="https://index.docker.io/" target="_blank" rel="external">https://index.docker.io/</a> 注册一个账号，例如我的是 soulmachine。</p>
<h3 id="build一个image"><a href="#build一个image" class="headerlink" title="build一个image"></a>build一个image</h3><p>build命令格式如下：</p>
<pre><code>sudo docker build -t username/repo:tag - &lt; Dockerfile
</code></pre><p>如果没有tag，则默认为 latest。</p>
<h3 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h3><pre><code>sudo docker login
</code></pre><p>输入自己的用户名和密码。</p>
<h3 id="push-到-Docker-index"><a href="#push-到-Docker-index" class="headerlink" title="push 到 Docker index"></a>push 到 Docker index</h3><pre><code>sudo docker push username/repo
</code></pre><p>这条命令会把一个repo下面的所有tag都push到<a href="https://index.docker.io/" target="_blank" rel="external">https://index.docker.io/</a></p>
<h2 id="安装JDK7失败"><a href="#安装JDK7失败" class="headerlink" title="安装JDK7失败"></a>安装JDK7失败</h2><p>我在container 里面安装jre7是可以的, <code>apt-get install openjdk-7-jre-headless</code> 成功。但是安装jdk7，<code>apt-get install openjdk-7-jdk</code>失败，错误消息如下：</p>
<pre><code>Creating fuse device...
mknod: `fuse-&apos;: Operation not permitted
makedev fuse c 10 229 root root 0660: failed
chown: cannot access `/dev/fuse&apos;: No such file or directory
dpkg: error processing fuse (--configure):
 subprocess installed post-installation script returned error exit status 1
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
Errors were encountered while processing:
 fuse
E: Sub-process /usr/bin/dpkg returned an error code (1)
</code></pre><p>原因是权限不够，见<a href="https://github.com/dotcloud/docker/issues/963" target="_blank" rel="external">Issue #963</a> 和 <a href="https://github.com/dotcloud/docker/issues/514" target="_blank" rel="external">Issue #514</a></p>
<p>所以，需要在启动container时，添加一个<code>-priviledged</code>参数，</p>
<pre><code>sudo docker run -i -t -priviledged soulmachine/ubuntu /bin/bash
</code></pre><p>在里面执行<code>apt-get install openjdk-7-jdk</code>，这次成功了。</p>
<p>那如何在dockerfile里用RUN命令安装JDK7呢？dockerfile里没法指定<code>-priviledged</code>，目前没有办法，不过可以折中一下，安装openjdk6。</p>
<h2 id="ENTRYPOINT-和-CMD-的区别"><a href="#ENTRYPOINT-和-CMD-的区别" class="headerlink" title="ENTRYPOINT 和 CMD 的区别"></a>ENTRYPOINT 和 CMD 的区别</h2><p>见<a href="http://www.kstaken.com/blog/2013/07/06/how-to-use-entrypoint-in-a-dockerfile/" target="_blank" rel="external">How to Use Entrypoint in Docker Builder</a></p>
<h2 id="docker-最佳实践"><a href="#docker-最佳实践" class="headerlink" title="docker 最佳实践"></a>docker 最佳实践</h2><p>见<a href="http://crosbymichael.com/dockerfile-best-practices.html" target="_blank" rel="external">Dockerfile Best Practices</a></p>
<h2 id="关于docker-的书籍"><a href="#关于docker-的书籍" class="headerlink" title="关于docker 的书籍"></a>关于docker 的书籍</h2><ul>
<li><a href="http://dockerbook.com/" target="_blank" rel="external">The Docker Book</a></li>
</ul>
<h2 id="底层原理"><a href="#底层原理" class="headerlink" title="底层原理"></a>底层原理</h2><p>image, container, fs layer，是什么关系？见这篇博客，<a href="http://www.activestate.com/blog/2013/06/solomon-hykes-explains-docker" target="_blank" rel="external">Solomon Hykes Explains Docker</a></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol>
<li><a href="http://docs.docker.io/" target="_blank" rel="external">Official docs</a></li>
<li><a href="https://log.qingcloud.com/?p=129" target="_blank" rel="external">Docker 初探</a></li>
</ol>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2013-10-25-docker-installation/" rel="next" title="docker安装">
                <i class="fa fa-chevron-left"></i> docker安装
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2013-10-27-build-spark-cluster-with-docker/" rel="prev" title="使用docker打造spark集群">
                使用docker打造spark集群 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2013-10-26-docker-tutorial/"
           data-title="docker 快速入门" data-url="http://cn.soulmachine.me/2013-10-26-docker-tutorial/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://tva2.sinaimg.cn/crop.4.536.2038.2038.180/632582bfgw1f31kbqdasbj21kw23uhdt.jpg"
               alt="soulmachine" />
          <p class="site-author-name" itemprop="name">soulmachine</p>
          <p class="site-description motion-element" itemprop="description">一些技术笔记</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">56</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/soulmachine" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/soulmachine" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/soulmachine" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/soulmachine" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.liancheng.info/" title="连城" target="_blank">连城</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://yewen.us/" title="笨狗随手留下" target="_blank">笨狗随手留下</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.rational.so/" title="阎栋" target="_blank">阎栋</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.parallellabs.com/" title="并行实验室" target="_blank">并行实验室</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.javachen.com/" title="JavaChen" target="_blank">JavaChen</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://shenfeng.me/" title="沈峰" target="_blank">沈峰</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.lihaipeng.info/" title="李海鹏" target="_blank">李海鹏</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.chioka.in/" title="Eric" target="_blank">Eric</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.csdn.net/lgnlgn" title="梁兄的技术博客" target="_blank">梁兄的技术博客</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.doesbetter.com/" title="王孝舒的博客" target="_blank">王孝舒的博客</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.foreverlee.net/" title="ForeverLee" target="_blank">ForeverLee</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.cnblogs.com/yuzhangcmu/" title="CMU张宇" target="_blank">CMU张宇</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#交互式命令行入门教程"><span class="nav-number">1.</span> <span class="nav-text">交互式命令行入门教程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hello-World"><span class="nav-number">2.</span> <span class="nav-text">Hello World</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三种运行命令的模式"><span class="nav-number">3.</span> <span class="nav-text">三种运行命令的模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#docker-ps-命令详解"><span class="nav-number">4.</span> <span class="nav-text">docker ps 命令详解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#添加http代理"><span class="nav-number">5.</span> <span class="nav-text">添加http代理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#熟悉一下-Dockerfile"><span class="nav-number">6.</span> <span class="nav-text">熟悉一下 Dockerfile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#我的第一个Dockerfile"><span class="nav-number">7.</span> <span class="nav-text">我的第一个Dockerfile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#删除容器"><span class="nav-number">8.</span> <span class="nav-text">删除容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建image"><span class="nav-number">9.</span> <span class="nav-text">创建image</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#下载image"><span class="nav-number">10.</span> <span class="nav-text">下载image</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#上传并共享image"><span class="nav-number">11.</span> <span class="nav-text">上传并共享image</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#注册一个账号"><span class="nav-number">11.1.</span> <span class="nav-text">注册一个账号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#build一个image"><span class="nav-number">11.2.</span> <span class="nav-text">build一个image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#登陆"><span class="nav-number">11.3.</span> <span class="nav-text">登陆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#push-到-Docker-index"><span class="nav-number">11.4.</span> <span class="nav-text">push 到 Docker index</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装JDK7失败"><span class="nav-number">12.</span> <span class="nav-text">安装JDK7失败</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ENTRYPOINT-和-CMD-的区别"><span class="nav-number">13.</span> <span class="nav-text">ENTRYPOINT 和 CMD 的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#docker-最佳实践"><span class="nav-number">14.</span> <span class="nav-text">docker 最佳实践</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关于docker-的书籍"><span class="nav-number">15.</span> <span class="nav-text">关于docker 的书籍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#底层原理"><span class="nav-number">16.</span> <span class="nav-text">底层原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">17.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">soulmachine</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"soulmachine"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  

  

</body>
</html>
